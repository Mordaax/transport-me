Index: app/src/main/res/layout/bus_stop_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\">\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_margin=\"0.80dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.473\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.0\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/base_cardview\"\r\n            style=\"@style/Base.CardView\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_margin=\"10dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.473\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.021\">\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linearLayout\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/BusAppIcon\"\r\n                        android:layout_width=\"50dp\"\r\n                        android:layout_height=\"0dp\"\r\n                        android:src=\"@drawable/appsplashicon\"\r\n                        app:layout_constraintBottom_toTopOf=\"@+id/recyclerView2\"\r\n                        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"></ImageView>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/BusStopCode\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"8dp\"\r\n                        android:text=\"BusStopCode\"\r\n                        android:textColor=\"#000000\"\r\n                        android:textSize=\"16sp\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/BusAppIcon\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/Description\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/Description\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"8dp\"\r\n                        android:text=\"Description\"\r\n                        android:textColor=\"#000000\"\r\n                        android:textSize=\"24sp\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/BusAppIcon\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/DropDownArrow\"\r\n                        android:layout_width=\"20dp\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:src=\"@drawable/arrow_down_sign_to_navigate\"\r\n                        app:layout_constraintBottom_toTopOf=\"@+id/recyclerView2\"\r\n                        app:layout_constraintRight_toRightOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"></ImageView>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/RoadName\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"16dp\"\r\n                        android:text=\"RoadName\"\r\n                        android:textColor=\"#474646\"\r\n                        app:layout_constraintBottom_toBottomOf=\"@+id/BusStopCode\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/BusStopCode\"\r\n                        app:layout_constraintTop_toTopOf=\"@+id/BusStopCode\" />\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/recyclerView2\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:visibility=\"gone\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/BusStopCode\">\r\n\r\n                    </androidx.recyclerview.widget.RecyclerView>\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            </LinearLayout>\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </androidx.cardview.widget.CardView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/bus_stop_layout.xml b/app/src/main/res/layout/bus_stop_layout.xml
--- a/app/src/main/res/layout/bus_stop_layout.xml	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/app/src/main/res/layout/bus_stop_layout.xml	(date 1655391715417)
@@ -78,6 +78,7 @@
                         android:id="@+id/DropDownArrow"
                         android:layout_width="20dp"
                         android:layout_height="30dp"
+                        android:rotation="90"
                         android:src="@drawable/arrow_down_sign_to_navigate"
                         app:layout_constraintBottom_toTopOf="@+id/recyclerView2"
                         app:layout_constraintRight_toRightOf="parent"
Index: app/src/main/res/layout/activity_loading_screen.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".LoadingScreen\"\r\n    android:background=\"#E9b872\">\r\n    <ImageView\r\n        android:id=\"@+id/AppSplashIcon\"\r\n        android:layout_width=\"150dp\"\r\n        android:layout_height=\"150dp\"\r\n        android:src=\"@drawable/appsplashicon\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"></ImageView>\r\n\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:fontFamily=\"@font/inter_bold\"\r\n        android:text=\"TransportMe\"\r\n        android:textColor=\"@color/white\"\r\n        android:textSize=\"40dp\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/AppSplashIcon\">\r\n\r\n    </TextView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_loading_screen.xml b/app/src/main/res/layout/activity_loading_screen.xml
--- a/app/src/main/res/layout/activity_loading_screen.xml	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/app/src/main/res/layout/activity_loading_screen.xml	(date 1655393047854)
@@ -17,6 +17,7 @@
         app:layout_constraintTop_toTopOf="parent"></ImageView>
 
     <TextView
+        android:id="@+id/textView"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:fontFamily="@font/inter_bold"
@@ -29,4 +30,23 @@
 
     </TextView>
 
+    <ProgressBar
+        android:id="@+id/progress_bar"
+        style="?android:attr/progressBarStyleHorizontal"
+        android:layout_width="174dp"
+        android:layout_height="27dp"
+        android:layout_marginTop="32dp"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.497"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/textView" />
+
+    <TextView
+        android:id="@+id/progress_text"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="TextView"
+        tools:layout_editor_absoluteX="176dp"
+        tools:layout_editor_absoluteY="560dp" />
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/sg/edu/np/mad/transportme/LoadingScreen.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package sg.edu.np.mad.transportme;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class LoadingScreen extends AppCompatActivity {\r\n    public static ArrayList<BusStop> globalBusStops = new ArrayList<>();\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_loading_screen);\r\n\r\n        /* Load Bus Stops API, can add persistent storage i guess?\r\n         */\r\n        ApiBusStopService apiBusStopService = new ApiBusStopService(LoadingScreen.this);\r\n        apiBusStopService.getBusStop(new ApiBusStopService.VolleyResponseListener() {\r\n            @Override\r\n            public void onError(String message) {\r\n                Toast.makeText(LoadingScreen.this,\"Cannot Get Bus Stops\",Toast.LENGTH_LONG).show();\r\n            }\r\n            @Override\r\n            public void onResponse(ArrayList<BusStop> busStops) {\r\n                globalBusStops = busStops;\r\n                Intent goToLoginPage = new Intent(LoadingScreen.this, LoginPage.class);\r\n                startActivity(goToLoginPage);\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/sg/edu/np/mad/transportme/LoadingScreen.java b/app/src/main/java/sg/edu/np/mad/transportme/LoadingScreen.java
--- a/app/src/main/java/sg/edu/np/mad/transportme/LoadingScreen.java	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/app/src/main/java/sg/edu/np/mad/transportme/LoadingScreen.java	(date 1655393156768)
@@ -6,18 +6,24 @@
 
 import android.content.Intent;
 import android.os.Bundle;
+import android.os.Handler;
 import android.util.Log;
+import android.widget.ProgressBar;
+import android.widget.TextView;
 import android.widget.Toast;
 
 import java.util.ArrayList;
 
 public class LoadingScreen extends AppCompatActivity {
     public static ArrayList<BusStop> globalBusStops = new ArrayList<>();
+    int i = 0;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_loading_screen);
 
+        ProgressBar progressBar = findViewById(R.id.progress_bar);
+        TextView progressText = findViewById(R.id.progress_text);
         /* Load Bus Stops API, can add persistent storage i guess?
          */
         ApiBusStopService apiBusStopService = new ApiBusStopService(LoadingScreen.this);
@@ -28,10 +34,27 @@
             }
             @Override
             public void onResponse(ArrayList<BusStop> busStops) {
+                progressBar.setProgress(100);
                 globalBusStops = busStops;
                 Intent goToLoginPage = new Intent(LoadingScreen.this, LoginPage.class);
                 startActivity(goToLoginPage);
             }
         });
+        progressText.setText("Getting Bus Stops");
+        final Handler handler = new Handler();
+        handler.postDelayed(new Runnable() {
+            @Override
+            public void run() {
+                // set the limitations for the numeric
+                // text under the progress bar
+                if (i <= 85) {
+                    progressBar.setProgress(i);
+                    i+=5;
+                    handler.postDelayed(this, 200);
+                } else {
+                    handler.removeCallbacks(this);
+                }
+            }
+        }, 200);
     }
 }
\ No newline at end of file
Index: app/src/main/java/sg/edu/np/mad/transportme/BusStopAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package sg.edu.np.mad.transportme;\r\n\r\nimport android.content.Context;\r\nimport android.transition.AutoTransition;\r\nimport android.transition.TransitionManager;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class BusStopAdapter\r\n        extends RecyclerView.Adapter<BusStopViewHolder>        //just like list, need declare <data type>\r\n{\r\n    ArrayList<BusStop> data;\r\n    Context c;\r\n    public BusStopAdapter(ArrayList<BusStop> data, Context c)\r\n    {\r\n        this.c = c;\r\n        this.data = data;                                       //this = this class / object\r\n    }\r\n    /* Remove This????? */\r\n    @Override\r\n    public int getItemViewType(int position){\r\n        return (position%5==0)?0:1;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public BusStopViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View item = LayoutInflater.from(parent.getContext()).inflate(R.layout.bus_stop_layout, parent,false);\r\n\r\n        return new BusStopViewHolder(item);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull BusStopViewHolder holder, int position) {\r\n        BusStop content = data.get(position);\r\n        ViewGroup cardView = holder.itemView.findViewById(R.id.base_cardview);\r\n        View hiddenView = holder.itemView.findViewById(R.id.recyclerView2);\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (holder.itemView.findViewById(R.id.recyclerView2).getVisibility() == View.VISIBLE){\r\n                    TransitionManager.beginDelayedTransition(cardView,new AutoTransition());\r\n                    holder.itemView.findViewById(R.id.recyclerView2).setVisibility(View.GONE);\r\n                }\r\n                else{\r\n                    TransitionManager.beginDelayedTransition(cardView,new AutoTransition());\r\n                    hiddenView.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n\r\n        holder.Description.setText(content.Description);\r\n        holder.BusStopCode.setText(content.BusStopCode);\r\n        holder.RoadName.setText(content.RoadName);\r\n\r\n        /*RecyclerView rv = c.findViewById(R.id.recyclerView2);*/\r\n        BusServiceAdapter adapterMember = new BusServiceAdapter(content.busServices);\r\n        LinearLayoutManager layout = new LinearLayoutManager(c);\r\n        /*rv.setAdapter(adapter);\r\n        rv.setLayoutManager(layout);*/\r\n        holder.RecyclerView2.setLayoutManager(layout);\r\n        holder.RecyclerView2.setAdapter(adapterMember);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/sg/edu/np/mad/transportme/BusStopAdapter.java b/app/src/main/java/sg/edu/np/mad/transportme/BusStopAdapter.java
--- a/app/src/main/java/sg/edu/np/mad/transportme/BusStopAdapter.java	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/app/src/main/java/sg/edu/np/mad/transportme/BusStopAdapter.java	(date 1655391971868)
@@ -6,6 +6,9 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.view.animation.Animation;
+import android.view.animation.LinearInterpolator;
+import android.view.animation.RotateAnimation;
 
 import androidx.annotation.NonNull;
 import androidx.recyclerview.widget.LinearLayoutManager;
@@ -47,10 +50,21 @@
             @Override
             public void onClick(View view) {
                 if (holder.itemView.findViewById(R.id.recyclerView2).getVisibility() == View.VISIBLE){
+
+                    RotateAnimation rotate = new RotateAnimation(-90, 0, Animation.RELATIVE_TO_SELF, 0.5f,          Animation.RELATIVE_TO_SELF, 0.5f);
+                    rotate.setDuration(250);
+                    rotate.setInterpolator(new LinearInterpolator());
+                    holder.itemView.findViewById(R.id.DropDownArrow).startAnimation(rotate);
+                    holder.itemView.findViewById(R.id.DropDownArrow).setRotation(90);
                     TransitionManager.beginDelayedTransition(cardView,new AutoTransition());
                     holder.itemView.findViewById(R.id.recyclerView2).setVisibility(View.GONE);
                 }
                 else{
+                    RotateAnimation rotate = new RotateAnimation(90, 0, Animation.RELATIVE_TO_SELF, 0.5f,          Animation.RELATIVE_TO_SELF, 0.5f);
+                    rotate.setDuration(250);
+                    rotate.setInterpolator(new LinearInterpolator());
+                    holder.itemView.findViewById(R.id.DropDownArrow).startAnimation(rotate);
+                    holder.itemView.findViewById(R.id.DropDownArrow).setRotation(0);
                     TransitionManager.beginDelayedTransition(cardView,new AutoTransition());
                     hiddenView.setVisibility(View.VISIBLE);
                 }
Index: app/src/main/java/sg/edu/np/mad/transportme/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package sg.edu.np.mad.transportme;\r\n\r\nimport static android.Manifest.permission.ACCESS_COARSE_LOCATION;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.app.ActivityManagerCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.common.api.GoogleApiClient;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\npublic class MainActivity extends FragmentActivity implements OnMapReadyCallback  {\r\n\r\n    GoogleMap map;\r\n    LocationManager locationManager;\r\n\r\n    private static final String[] LOCATION_PERMS={\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n    };\r\n\r\n    private static final int LOCATION_REQUEST=1337;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @SuppressLint(\"MissingPermission\")\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        bottomNavigationView.setOnItemSelectedListener(item ->{\r\n            LinearLayout mapandrv = findViewById(R.id.MapAndRV);\r\n            FrameLayout fragmentlayout = findViewById(R.id.frame_layout);\r\n            switch(item.getItemId()){\r\n                case R.id.home:\r\n                    fragmentlayout.setVisibility(View.INVISIBLE);\r\n                    mapandrv.setVisibility(View.VISIBLE);\r\n                    break;\r\n                case R.id.favourites:\r\n                    mapandrv.setVisibility(View.INVISIBLE);\r\n                    fragmentlayout.setVisibility(View.VISIBLE);\r\n                    replaceFragment(new FavouritesFragment());\r\n                    break;\r\n                case R.id.search:\r\n                    mapandrv.setVisibility(View.INVISIBLE);\r\n                    fragmentlayout.setVisibility(View.VISIBLE);\r\n                    replaceFragment(new SearchFragment());\r\n                    break;\r\n                case R.id.profile:\r\n                    mapandrv.setVisibility(View.INVISIBLE);\r\n                    fragmentlayout.setVisibility(View.VISIBLE);\r\n                    replaceFragment(new ProfileFragment());\r\n                    break;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        requestPermissions(LOCATION_PERMS, LOCATION_REQUEST);\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n        ArrayList<BusStop> busStops = LoadingScreen.globalBusStops;\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this, ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 60000, 10, new LocationListener() {\r\n                @Override\r\n                public void onLocationChanged(@NonNull Location location) {\r\n                    Double Latitude = location.getLatitude();\r\n                    Double Longitude = location.getLongitude();\r\n                    LatLng latLng = new LatLng(Latitude, Longitude);\r\n                    Geocoder geocoder = new Geocoder(getApplicationContext());\r\n\r\n                    /* For testing purposes, Remove at the end */\r\n                    /*Latitude = 1.332346;\r\n                    Longitude = 103.777561;*/\r\n\r\n                    Double Closeness = 0.00504;\r\n                    ArrayList<BusStop> closeBusStops = new ArrayList<>();\r\n                    for (int i = 0; i < busStops.size(); i++){\r\n                        BusStop busStop = busStops.get(i);\r\n                        if (busStop.Longitude < Longitude+Closeness && busStop.Longitude > Longitude-Closeness\r\n                                && busStop.Latitude < Latitude+Closeness && busStop.Latitude > Latitude-Closeness){\r\n                            closeBusStops.add(busStop);\r\n                            LatLng latlongmarker = new LatLng(busStop.Latitude, busStop.Longitude);\r\n                            map.addMarker(new MarkerOptions().position(latlongmarker).title(busStop.Description));\r\n                        }\r\n                    }\r\n                    ApiBusStopService apiBusStopService = new ApiBusStopService(MainActivity.this);\r\n                    apiBusStopService.getBusService(closeBusStops,new ApiBusStopService.VolleyResponseListener2() {\r\n                        @Override\r\n                        public void onError(String message) {\r\n                            Toast.makeText(MainActivity.this,\"Cannot Get Bus Stops\",Toast.LENGTH_LONG).show();\r\n                        }\r\n                        @Override\r\n                        public void onResponse(ArrayList<BusStop> busStopsLoaded) {\r\n                            RecyclerView rv = findViewById(R.id.recyclerView);\r\n                            BusStopAdapter adapter = new BusStopAdapter(busStopsLoaded,MainActivity.this);\r\n                            LinearLayoutManager layout = new LinearLayoutManager(MainActivity.this);\r\n                            rv.setAdapter(adapter);\r\n                            rv.setLayoutManager(layout);\r\n                        }\r\n                    });\r\n                    try {\r\n                        List<Address> addressList = geocoder.getFromLocation(Latitude, Longitude, 1);\r\n                        String str = addressList.get(0).getLocality()+\", \";\r\n                        str += addressList.get(0).getCountryName();\r\n\r\n                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 16.2f));\r\n                    } catch (IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else if(locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)){\r\n            locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 60000, 10, new LocationListener() {\r\n                @Override\r\n                public void onLocationChanged(@NonNull Location location) {\r\n                    Double Latitude = location.getLatitude();\r\n                    Double Longitude = location.getLongitude();\r\n\r\n                    /* For testing purposes, Remove at the end */\r\n                    /*Latitude = 1.332346;\r\n                    Longitude = 103.777561;*/\r\n\r\n                    LatLng latLng = new LatLng(Latitude, Longitude);\r\n                    Geocoder geocoder = new Geocoder(getApplicationContext());\r\n\r\n                    /* +-0.00904 lat and long per km */\r\n                    Double Closeness = 0.00504;\r\n\r\n                    ArrayList<BusStop> closeBusStops = new ArrayList<>();\r\n                    for (int i = 0; i < busStops.size(); i++){\r\n                        BusStop busStop = busStops.get(i);\r\n                        if (busStop.Longitude < Longitude+Closeness && busStop.Longitude > Longitude-Closeness\r\n                                && busStop.Latitude < Latitude+Closeness && busStop.Latitude > Latitude-Closeness){\r\n                            closeBusStops.add(busStop);\r\n                            LatLng latlongmarker = new LatLng(busStop.Latitude, busStop.Longitude);\r\n                            map.addMarker(new MarkerOptions().position(latlongmarker).title(busStop.Description));\r\n                        }\r\n                    }\r\n\r\n                    ApiBusStopService apiBusStopService = new ApiBusStopService(MainActivity.this);\r\n                    apiBusStopService.getBusService(closeBusStops,new ApiBusStopService.VolleyResponseListener2() {\r\n                        @Override\r\n                        public void onError(String message) {\r\n                            Toast.makeText(MainActivity.this,\"Cannot Get Bus Stops\",Toast.LENGTH_LONG).show();\r\n                        }\r\n                        @Override\r\n                        public void onResponse(ArrayList<BusStop> busStopsLoaded) {\r\n\r\n                            RecyclerView rv = findViewById(R.id.recyclerView);\r\n                            BusStopAdapter adapter = new BusStopAdapter(busStopsLoaded,MainActivity.this);\r\n                            LinearLayoutManager layout = new LinearLayoutManager(MainActivity.this);\r\n                            rv.setAdapter(adapter);\r\n                            rv.setLayoutManager(layout);\r\n\r\n                        }\r\n                    });\r\n\r\n                    try {\r\n                        List<Address> addressList = geocoder.getFromLocation(Latitude, Longitude, 1);\r\n                        String str = addressList.get(0).getLocality()+\", \";\r\n                        str += addressList.get(0).getCountryName();\r\n                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 16.2f));\r\n                    } catch (IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    private void replaceFragment(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.frame_layout,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n    @SuppressLint(\"MissingPermission\")\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        map = googleMap;\r\n        map.setMyLocationEnabled(true);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/sg/edu/np/mad/transportme/MainActivity.java b/app/src/main/java/sg/edu/np/mad/transportme/MainActivity.java
--- a/app/src/main/java/sg/edu/np/mad/transportme/MainActivity.java	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/app/src/main/java/sg/edu/np/mad/transportme/MainActivity.java	(date 1655388836076)
@@ -122,7 +122,7 @@
                     /*Latitude = 1.332346;
                     Longitude = 103.777561;*/
 
-                    Double Closeness = 0.00504;
+                    Double Closeness = 0.00304;
                     ArrayList<BusStop> closeBusStops = new ArrayList<>();
                     for (int i = 0; i < busStops.size(); i++){
                         BusStop busStop = busStops.get(i);
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml\" value=\"0.14722222222222223\" />\r\n        <entry key=\"..\\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_login_page.xml\" value=\"0.358695652173913\" />\r\n        <entry key=\"..\\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_registration_page.xml\" value=\"0.358695652173913\" />\r\n        <entry key=\"..\\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_service_layout.xml\" value=\"0.18802083333333333\" />\r\n        <entry key=\"..\\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_stop_layout.xml\" value=\"0.18802083333333333\" />\r\n        <entry key=\"..\\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/drawable/edittext_bg.xml\" value=\"0.2985\" />\r\n        <entry key=\"..\\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_login_page.xml\" value=\"0.2\" />\r\n        <entry key=\"..\\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_registration_page.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml\" value=\"0.15625\" />\r\n        <entry key=\"..\\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_main.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_service_layout.xml\" value=\"0.2708333333333333\" />\r\n        <entry key=\"..\\:/Users/cyrus/Desktop/MAD/TransportMe/app/src/main/res/layout/activity_main.xml\" value=\"0.23007246376811594\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/drawable/selector.xml\" value=\"0.1995\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_favourites.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_loading_screen.xml\" value=\"0.18802083333333333\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_main.xml\" value=\"0.2957427536231884\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_main_nav.xml\" value=\"0.35507246376811596\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_search.xml\" value=\"0.35260416666666666\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_settings.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/bus_service_layout.xml\" value=\"0.4796044499381953\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/bus_stop_layout.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/fragment_bus.xml\" value=\"0.35507246376811596\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/fragment_profile.xml\" value=\"0.36666666666666664\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/menu/bottom_nav_menu.xml\" value=\"0.36666666666666664\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/menu/menu_navigation.xml\" value=\"0.3592592592592593\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/activity_main.xml\" value=\"0.17831813576494426\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/bus_service_layout.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/bus_stop_layout.xml\" value=\"0.33\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"Android Studio default JDK\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 8875bc548f79acbde8b6473784634025c1714ec1)
+++ b/.idea/misc.xml	(date 1655389728760)
@@ -3,39 +3,25 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
-        <entry key="..\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml" value="0.14722222222222223" />
-        <entry key="..\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_login_page.xml" value="0.358695652173913" />
-        <entry key="..\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_registration_page.xml" value="0.358695652173913" />
-        <entry key="..\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_service_layout.xml" value="0.18802083333333333" />
-        <entry key="..\:/#Poly/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_stop_layout.xml" value="0.18802083333333333" />
-        <entry key="..\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/drawable/edittext_bg.xml" value="0.2985" />
-        <entry key="..\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml" value="0.25" />
-        <entry key="..\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_login_page.xml" value="0.2" />
-        <entry key="..\:/SEM 3 SCHOOL/MAD/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_registration_page.xml" value="0.25" />
-        <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml" value="0.15625" />
+        <entry key="..\:/Downloads/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml" value="0.14722222222222223" />
+        <entry key="..\:/Downloads/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_login_page.xml" value="0.25" />
+        <entry key="..\:/Downloads/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_registration_page.xml" value="0.25" />
+        <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_loading_screen.xml" value="0.264" />
         <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/activity_main.xml" value="0.264" />
         <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_service_layout.xml" value="0.2708333333333333" />
+        <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/bus_stop_layout.xml" value="0.1693840579710145" />
+        <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/layout/fragment_search.xml" value="0.22826086956521738" />
+        <entry key="..\:/Users/cyrus/Desktop/MAD-Assignment-TransportMe/app/src/main/res/menu/bottom_nav_menu.xml" value="0.36666666666666664" />
         <entry key="..\:/Users/cyrus/Desktop/MAD/TransportMe/app/src/main/res/layout/activity_main.xml" value="0.23007246376811594" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/drawable/selector.xml" value="0.1995" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_favourites.xml" value="0.33" />
         <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_loading_screen.xml" value="0.18802083333333333" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_main.xml" value="0.2957427536231884" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_main_nav.xml" value="0.35507246376811596" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_search.xml" value="0.35260416666666666" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/activity_settings.xml" value="0.33" />
         <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/bus_service_layout.xml" value="0.4796044499381953" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/bus_stop_layout.xml" value="0.33" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/fragment_bus.xml" value="0.35507246376811596" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/fragment_profile.xml" value="0.36666666666666664" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/menu/bottom_nav_menu.xml" value="0.36666666666666664" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/menu/menu_navigation.xml" value="0.3592592592592593" />
+        <entry key="..\:/Users/voidi/Desktop/MAD/ASG GitHub AGAIN/app/src/main/res/layout/bus_stop_layout.xml" value="0.5" />
         <entry key="..\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/activity_main.xml" value="0.17831813576494426" />
-        <entry key="..\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/bus_service_layout.xml" value="0.33" />
+        <entry key="..\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/bus_service_layout.xml" value="0.17831813576494426" />
         <entry key="..\:/Users/voidi/Desktop/MAD/ASG Github/app/src/main/res/layout/bus_stop_layout.xml" value="0.33" />
       </map>
     </option>
   </component>
-  <component name="ExternalStorageConfigurationManager" enabled="true" />
   <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="Android Studio default JDK" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
